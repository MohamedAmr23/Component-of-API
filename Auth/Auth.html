<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../node_modules/axios/dist/axios.min.js"></script>
</head>
<body>
    <h2>hello world</h2>
</body>
<script>
    axios.post(
    'https://reqres.in/api/login',
    {
    "email":"charles.morris@reqres.in",
    "password":"pistol"})
    
  .then(function (response) {
    // handle success
    let token=response.data.token;
        localStorage.setItem("token",token)

        console.log("token recived",token)

        createNewUser()
  })

  function createNewUser(){

    let token=localStorage.getItem("token")

    let config={
        headers:{
            "Authorization":`Bearer ${token}`
        }
    }

    axios.post(
    'https://reqres.in/api/users',{
        "name":"Mohamed",
        "job":"leader"
    },config)
    
    .then((response)=>{
        console.log(response)
    })



  }
</script>
</html>